{"ast":null,"code":"import _asyncToGenerator from \"/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/My Projects/Tipping around the world - Angular/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from 'rxjs';\nimport { appConfig } from '../utils/app-config';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class DataService {\n  constructor(http) {\n    this.http = http;\n  }\n  //Get all continents:\n  getContinents() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this.http.get(appConfig.continentsUrl);\n      const continents = yield (yield firstValueFrom(observable)).sort();\n      return continents;\n    })();\n  }\n  //Get all countries:\n  getCountries() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this2.http.get(appConfig.countriesUrl);\n      const countries = yield firstValueFrom(observable);\n      return countries;\n    })();\n  }\n  //Get countries by continent:\n  getCountriesByContinent(continentId) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (continentId === \"0\") {\n        const observable = _this3.http.get(appConfig.countriesUrl);\n        const countries = yield firstValueFrom(observable);\n        return countries;\n      }\n      const observable = _this3.http.get(appConfig.countriesByContinentsUrl + continentId);\n      const countries = yield firstValueFrom(observable);\n      return countries;\n    })();\n  }\n  // Add country:\n  addCountry(country) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this4.http.post(appConfig.countriesUrl, country);\n      yield firstValueFrom(observable);\n    })();\n  }\n  // Delete country:\n  deleteCountry(countryId) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this5.http.delete(appConfig.countriesUrl + countryId);\n      yield firstValueFrom(observable);\n    })();\n  }\n}\nDataService.ɵfac = function DataService_Factory(t) {\n  return new (t || DataService)(i0.ɵɵinject(i1.HttpClient));\n};\nDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DataService,\n  factory: DataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAEA,SAASA,cAAc,QAAQ,MAAM;AAIrC,SAASC,SAAS,QAAQ,qBAAqB;;;AAK/C,OAAM,MAAOC,WAAW;EACtBC,YAA2BC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EAAe;EAE9C;EACaC,aAAa;IAAA;IAAA;MACxB,MAAMC,UAAU,GAAG,KAAI,CAACF,IAAI,CAACG,GAAG,CAAmBN,SAAS,CAACO,aAAa,CAAC;MAC3E,MAAMC,UAAU,SAAS,OAAOT,cAAc,CAACM,UAAU,CAAC,EAAEI,IAAI,EAAE;MAClE,OAAOD,UAAU;IAAC;EACpB;EAEA;EACaE,YAAY;IAAA;IAAA;MACvB,MAAML,UAAU,GAAG,MAAI,CAACF,IAAI,CAACG,GAAG,CAAiBN,SAAS,CAACW,YAAY,CAAC;MACxE,MAAMC,SAAS,SAASb,cAAc,CAACM,UAAU,CAAC;MAClD,OAAOO,SAAS;IAAC;EACnB;EAEA;EACaC,uBAAuB,CAClCC,WAAmB;IAAA;IAAA;MAEnB,IAAIA,WAAW,KAAK,GAAG,EAAE;QACvB,MAAMT,UAAU,GAAG,MAAI,CAACF,IAAI,CAACG,GAAG,CAAiBN,SAAS,CAACW,YAAY,CAAC;QACxE,MAAMC,SAAS,SAASb,cAAc,CAACM,UAAU,CAAC;QAClD,OAAOO,SAAS;;MAElB,MAAMP,UAAU,GAAG,MAAI,CAACF,IAAI,CAACG,GAAG,CAC9BN,SAAS,CAACe,wBAAwB,GAAGD,WAAW,CACjD;MACD,MAAMF,SAAS,SAASb,cAAc,CAACM,UAAU,CAAC;MAClD,OAAOO,SAAS;IAAC;EACnB;EAEA;EACaI,UAAU,CAACC,OAAqB;IAAA;IAAA;MAC3C,MAAMZ,UAAU,GAAG,MAAI,CAACF,IAAI,CAACe,IAAI,CAC/BlB,SAAS,CAACW,YAAY,EACtBM,OAAO,CACR;MACD,MAAMlB,cAAc,CAACM,UAAU,CAAC;IAAC;EACnC;EAEA;EACac,aAAa,CAACC,SAAiB;IAAA;IAAA;MAC1C,MAAMf,UAAU,GAAG,MAAI,CAACF,IAAI,CAACkB,MAAM,CAACrB,SAAS,CAACW,YAAY,GAAGS,SAAS,CAAC;MACvE,MAAMrB,cAAc,CAACM,UAAU,CAAC;IAAC;EACnC;;AA9CWJ,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAqB,SAAXrB,WAAW;EAAAsB,YAFV;AAAM","names":["firstValueFrom","appConfig","DataService","constructor","http","getContinents","observable","get","continentsUrl","continents","sort","getCountries","countriesUrl","countries","getCountriesByContinent","continentId","countriesByContinentsUrl","addCountry","country","post","deleteCountry","countryId","delete","factory","providedIn"],"sourceRoot":"","sources":["/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/My Projects/Tipping around the world - Angular/Frontend/src/app/services/data.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { firstValueFrom } from 'rxjs';\n\nimport { ContinentModel } from '../models/continent-model';\nimport { CountryModel } from '../models/country-model';\nimport { appConfig } from '../utils/app-config';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DataService {\n  public constructor(private http: HttpClient) {}\n\n  //Get all continents:\n  public async getContinents(): Promise<ContinentModel[]> {\n    const observable = this.http.get<ContinentModel[]>(appConfig.continentsUrl);\n    const continents = await (await firstValueFrom(observable)).sort();\n    return continents;\n  }\n\n  //Get all countries:\n  public async getCountries(): Promise<CountryModel[]> {\n    const observable = this.http.get<CountryModel[]>(appConfig.countriesUrl);\n    const countries = await firstValueFrom(observable);\n    return countries;\n  }\n\n  //Get countries by continent:\n  public async getCountriesByContinent(\n    continentId: string\n  ): Promise<CountryModel[]> {\n    if (continentId === \"0\") {\n      const observable = this.http.get<CountryModel[]>(appConfig.countriesUrl);\n      const countries = await firstValueFrom(observable);\n      return countries;\n    }\n    const observable = this.http.get<CountryModel[]>(\n      appConfig.countriesByContinentsUrl + continentId\n    );\n    const countries = await firstValueFrom(observable);\n    return countries;\n  }\n\n  // Add country:\n  public async addCountry(country: CountryModel): Promise<void> {\n    const observable = this.http.post<CountryModel>(\n      appConfig.countriesUrl,\n      country\n    );\n    await firstValueFrom(observable);\n  }\n\n  // Delete country:\n  public async deleteCountry(countryId: string): Promise<void> {\n    const observable = this.http.delete(appConfig.countriesUrl + countryId);\n    await firstValueFrom(observable);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}